import { prisma } from '@/lib/core/prisma'

// ê´€ë¦¬ì ì •ë³´ ë° ìƒìˆ˜
const ADMIN_USER_ID = 'cmdri2tj90000u8vgtyir9upy'
const ADMIN_ROLE = 'ADMIN'

// AIë‰´ìŠ¤ ì¹´í…Œê³ ë¦¬ ID
const AI_NEWS_CATEGORY_ID = 'cme5a3ysr0002u8wwwmcbgc7z'

// ëœë¤ ì¡°íšŒìˆ˜ ìƒì„±
const getRandomViewCount = (min: number, max: number) =>
  Math.floor(Math.random() * (max - min + 1)) + min

async function createPost() {
  const content = `# ğŸ¨ ì•Œë¦¬ë°”ë°”ì—ì„œ ë§Œë“  ì‹ ê¸°í•œ AI, ë§ë¡œë§Œ í•´ë„ ì‚¬ì§„ì´ ë°”ë€ë‹¤ê³ ?

## ğŸ’¬ ê°„ë‹¨í•˜ê²Œ ë§í•˜ë©´?

**"ë°°ê²½ì„ ë°”ë‹¤ë¡œ ë°”ê¿”ì¤˜"ë¼ê³  ë§í•˜ë©´ ì •ë§ë¡œ ë°”ë€ŒëŠ” AIê°€ ë‚˜ì™”ì–´ìš”!**

![Qwen-Image-Edit ê³µì‹ ë°œí‘œ](https://preview.redd.it/qwen-released-qwen-image-edit-v0-hp1ovqb3htjf1.jpg?width=640&crop=smart&auto=webp&s=8af8900688c25faf8100aeb9e6f197c2774facdc)

## ğŸ¤” ì´ê²Œ ë­ì•¼?

**Qwen-Image-Edit**ë¼ëŠ” ì´ë¦„ì˜ AIì˜ˆìš”. 

ì¤‘êµ­ ì•Œë¦¬ë°”ë°”ì—ì„œ ë§Œë“¤ì—ˆëŠ”ë°, ì§€ê¸ˆê¹Œì§€ ë‚˜ì˜¨ ì‚¬ì§„ í¸ì§‘ AI ì¤‘ì—ì„œ **ê°€ì¥ ë˜‘ë˜‘í•˜ë‹¤**ê³  í•´ìš”.

![Qwen-Image-Edit ê¸°ëŠ¥ ì†Œê°œ](https://www.marktechpost.com/wp-content/uploads/2025/08/Screenshot-2025-08-18-at-4.05.31-PM.png)

## âœ¨ ë­ê°€ íŠ¹ë³„í•œë°?

### ğŸ—£ï¸ ë§ë¡œë§Œ í•˜ë©´ ë!

í¬í† ìƒµ ê°™ì€ ë³µì¡í•œ í”„ë¡œê·¸ë¨ ëª°ë¼ë„ ë¼ìš”.

**ì´ë ‡ê²Œ ë§í•˜ë©´:**
- "ëª¨ì ì”Œì›Œì¤˜" â†’ ëª¨ìê°€ ìƒê¹€
- "ë°°ê²½ì„ ì¹´í˜ë¡œ ë°”ê¿”ì¤˜" â†’ ë°°ê²½ì´ ì¹´í˜ë¡œ ë³€í•¨  
- "ì´ ì‚¬ëŒ ì§€ì›Œì¤˜" â†’ ì‚¬ëŒì´ ì‚¬ë¼ì§

### ğŸ¯ 13ê°€ì§€ë‚˜ ë˜ëŠ” ê¸°ëŠ¥

**ì‚¬ì§„ ê¾¸ë¯¸ê¸°:**
- ë°°ê²½ ë°”ê¾¸ê¸°
- ì‚¬ëŒì´ë‚˜ ë¬¼ê±´ ì§€ìš°ê¸°  
- ìƒˆë¡œìš´ ê²ƒ ì¶”ê°€í•˜ê¸°

**ì¬ë¯¸ìˆëŠ” ê¸°ëŠ¥:**
- ì•„ë°”íƒ€ ë§Œë“¤ê¸°
- ì˜· ì…í˜€ë³´ê¸° (ê°€ìƒìœ¼ë¡œ)
- ì˜¤ë˜ëœ ì‚¬ì§„ ê¹¨ë—í•˜ê²Œ ë§Œë“¤ê¸°

**ì‹¤ìš©ì ì¸ ê¸°ëŠ¥:**
- ìƒí’ˆ ì‚¬ì§„ ë§Œë“¤ê¸°
- í¬ìŠ¤í„° ê¸€ì ë°”ê¾¸ê¸°

## ğŸ¨ ì‹¤ì œ í¸ì§‘ ê²°ê³¼ ë³´ê¸°

### 1. í…ìŠ¤íŠ¸ í¸ì§‘ ê¸°ëŠ¥
"QWEN Image Edit is here"ë¡œ ë°”ê¿”ë‹¬ë¼ê³  í–ˆì„ ë•Œ:

![í…ìŠ¤íŠ¸ í¸ì§‘ ì˜ˆì‹œ](https://i.postimg.cc/tgjMX4bs/60be68de-3690-498c-8af0-41cb3e2aed86.png)

### 2. ì°½ì‘ ê¸°ëŠ¥
ê³ ì–‘ì´ê°€ "this is fun"ì´ë¼ ì íŒ ì¢…ì´ë¥¼ ë“¤ê³  ì í”„í•˜ë¼ê³  í–ˆì„ ë•Œ:

![ì°½ì‘ ê¸°ëŠ¥ ì˜ˆì‹œ](https://i.postimg.cc/HnR6Fp3s/ab67350a-04d2-4004-b7aa-c22b4fe85152.png)

### 3. ìŠ¤íƒ€ì¼ ë³€í™˜ ê¸°ëŠ¥
ì‚¬ì§„ì„ ë§Œí™”ì±… ìŠ¤íƒ€ì¼ë¡œ ë°”ê¿”ë‹¬ë¼ê³  í–ˆì„ ë•Œ:

![ìŠ¤íƒ€ì¼ ë³€í™˜ ì˜ˆì‹œ](https://i.postimg.cc/hGspc8MY/36a6abf1-c447-459e-b8c2-a0304bba4335.png)

## ğŸ’» ì–´ë–»ê²Œ ì¨ë³´ë‚˜ìš”?

### 1ë‹¨ê³„: ì›¹ì‚¬ì´íŠ¸ ë“¤ì–´ê°€ê¸°
**Hugging Face**ë¼ëŠ” ì‚¬ì´íŠ¸ì— ê°€ë©´ ë°”ë¡œ ì¨ë³¼ ìˆ˜ ìˆì–´ìš”.
ì£¼ì†Œ: https://huggingface.co/spaces/Qwen/Qwen-Image-Edit

### 2ë‹¨ê³„: ì‚¬ì§„ ì˜¬ë¦¬ê¸°
í¸ì§‘í•˜ê³  ì‹¶ì€ ì‚¬ì§„ì„ ì˜¬ë ¤ìš”.

### 3ë‹¨ê³„: ì›í•˜ëŠ” ê²ƒ ë§í•˜ê¸°
"ë°°ê²½ì„ ì‚°ìœ¼ë¡œ ë°”ê¿”ì¤˜" ì´ëŸ° ì‹ìœ¼ë¡œ ì¨ì£¼ì„¸ìš”.

### 4ë‹¨ê³„: ê²°ê³¼ ë³´ê¸°
AIê°€ ì•Œì•„ì„œ í¸ì§‘í•´ì¤˜ìš”!

## ğŸ”¥ ëˆ„ê°€ ì“°ë©´ ì¢‹ì„ê¹Œ?

### ğŸ“¸ ì¼ë°˜ì¸
- **ì¸ìŠ¤íƒ€ê·¸ë¨ ì‚¬ì§„** ì˜ˆì˜ê²Œ ë§Œë“¤ê¸°
- **í”„ë¡œí•„ ì‚¬ì§„** ë°°ê²½ ë°”ê¾¸ê¸°
- **ì¶”ì–µ ì‚¬ì§„** ê¹¨ë—í•˜ê²Œ ë³µì›í•˜ê¸°

### ğŸ›’ ì‡¼í•‘ëª° ì‚¬ì¥ë‹˜
- **ìƒí’ˆ ì‚¬ì§„** ë°°ê²½ ê¹”ë”í•˜ê²Œ ë§Œë“¤ê¸°  
- **ëª¨ë¸ ì‚¬ì§„**ì— ë‹¤ë¥¸ ì˜· ì…í˜€ë³´ê¸°
- **ê´‘ê³  ì´ë¯¸ì§€** ì‰½ê²Œ ë§Œë“¤ê¸°

### ğŸ¨ ë””ìì´ë„ˆ
- **í¬ìŠ¤í„°** ê¸€ì ì‰½ê²Œ ë°”ê¾¸ê¸°
- **ìºë¦­í„°** ìƒˆë¡œ ë§Œë“¤ê¸°
- **ë°°ê²½** ë‹¤ì–‘í•˜ê²Œ ì‹œë„í•´ë³´ê¸°

## âš ï¸ ì•„ì§ ì•„ì‰¬ìš´ ì 

### ì†ë„ê°€ ì¡°ê¸ˆ ëŠë ¤ìš”
ë³µì¡í•œ í¸ì§‘ì„ í•˜ë©´ ê¸°ë‹¤ë ¤ì•¼ í•´ìš”.

### ì˜ì–´ê°€ ë” ì˜ í†µí•´ìš”
í•œêµ­ì–´ë³´ë‹¤ ì˜ì–´ë¡œ ë§í•˜ë©´ ë” ì •í™•í•´ìš”.

### ì•„ì£¼ ì„¸ë°€í•œ ì‘ì—…ì€ ì–´ë ¤ì›Œìš”
ë¨¸ë¦¬ì¹´ë½ í•œ ì˜¬ í•œ ì˜¬ ìˆ˜ì •í•˜ëŠ” ê±´ í˜ë“¤ì–´ìš”.

## ğŸ†“ ë¬´ë£Œë¡œ ì“¸ ìˆ˜ ìˆë‚˜ìš”?

**ë„¤! ì§€ê¸ˆì€ ë¬´ë£Œë¡œ ì²´í—˜í•´ë³¼ ìˆ˜ ìˆì–´ìš”.**

ë‹¤ë§Œ ë‚˜ì¤‘ì— ìƒì—…ì ìœ¼ë¡œ ì“°ë ¤ë©´ ìœ ë£Œì¼ ìˆ˜ë„ ìˆì–´ìš”.

## ğŸš€ ì•ìœ¼ë¡œëŠ” ì–´ë–¨ê¹Œ?

ì´ëŸ° AIê°€ ê³„ì† ë°œì „í•˜ë©´, ì•ìœ¼ë¡œëŠ” **ëˆ„êµ¬ë‚˜ ì‰½ê²Œ** ì „ë¬¸ê°€ ìˆ˜ì¤€ì˜ ì‚¬ì§„ì„ ë§Œë“¤ ìˆ˜ ìˆì„ ê²ƒ ê°™ì•„ìš”.

í¬í† ìƒµ ê³µë¶€ ì•ˆ í•´ë„ ë˜ëŠ” ì‹œëŒ€ê°€ ì˜¬ì§€ë„ ëª¨ë¥´ê² ë„¤ìš”! ğŸ˜Š

## ğŸ™‹â€â™€ï¸ ì •ë¦¬í•˜ë©´

- **ì•Œë¦¬ë°”ë°”**ì—ì„œ ë§Œë“  **Qwen-Image-Edit** AI
- **ë§ë¡œë§Œ í•´ë„** ì‚¬ì§„ í¸ì§‘ì´ ë¨
- **13ê°€ì§€ ê¸°ëŠ¥** ì§€ì› (ë°°ê²½ ë°”ê¾¸ê¸°, ë¬¼ê±´ ì§€ìš°ê¸° ë“±)
- **ë¬´ë£Œë¡œ ì²´í—˜** ê°€ëŠ¥
- **ëˆ„êµ¬ë‚˜ ì‰½ê²Œ** ì‚¬ìš©í•  ìˆ˜ ìˆìŒ

ê¶ê¸ˆí•˜ì‹œë©´ í•œë²ˆ ì¨ë³´ì„¸ìš”! ìƒê°ë³´ë‹¤ ì¬ë¯¸ìˆì–´ìš” ğŸ‰

---

*ì¶œì²˜: ì•Œë¦¬ë°”ë°” ê³µì‹ ë°œí‘œ, ê¸°ìˆ  ë‰´ìŠ¤ ì‚¬ì´íŠ¸ë“¤*`

  try {
    console.log('ğŸ¯ Qwen-Image-Edit ì¼ë°˜ì¸ìš© ê²Œì‹œê¸€ ìƒì„± ì‹œì‘...')

    // ê²Œì‹œê¸€ ìƒì„±
    const post = await prisma.mainPost.create({
      data: {
        title: 'ğŸ¨ ì•Œë¦¬ë°”ë°”ì—ì„œ ë§Œë“  ì‹ ê¸°í•œ AI, ë§ë¡œë§Œ í•´ë„ ì‚¬ì§„ì´ ë°”ë€ë‹¤ê³ ?',
        slug: 'qwen-image-edit-easy-guide-for-everyone-2025',
        content,
        excerpt:
          'ì¤‘êµ­ ì•Œë¦¬ë°”ë°”ì—ì„œ ë§Œë“  Qwen-Image-EditëŠ” ë§ë¡œë§Œ í•´ë„ ì‚¬ì§„ì„ í¸ì§‘í•´ì£¼ëŠ” ì‹ ê¸°í•œ AIì˜ˆìš”. "ë°°ê²½ì„ ë°”ë‹¤ë¡œ ë°”ê¿”ì¤˜"ë¼ê³  í•˜ë©´ ì •ë§ë¡œ ë°”ë€ë‹ˆë‹¤! 13ê°€ì§€ ê¸°ëŠ¥ì„ ë¬´ë£Œë¡œ ì²´í—˜í•´ë³´ì„¸ìš”.',
        status: 'PUBLISHED',
        authorId: ADMIN_USER_ID,
        authorRole: ADMIN_ROLE,
        categoryId: AI_NEWS_CATEGORY_ID,
        viewCount: getRandomViewCount(300, 500),
        metaTitle:
          'ì•Œë¦¬ë°”ë°” AIë¡œ ë§ë§Œ í•´ë„ ì‚¬ì§„ í¸ì§‘? Qwen-Image-Edit ì‰¬ìš´ ì‚¬ìš©ë²•',
        metaDescription:
          'ë³µì¡í•œ í¬í† ìƒµ ëª°ë¼ë„ OK! ë§ë¡œë§Œ í•´ë„ ì‚¬ì§„ì´ ë°”ë€ŒëŠ” ì•Œë¦¬ë°”ë°” AI Qwen-Image-Edit ì‚¬ìš©ë²•. ë°°ê²½ ë°”ê¾¸ê¸°, ë¬¼ê±´ ì§€ìš°ê¸° ë“± 13ê°€ì§€ ê¸°ëŠ¥ ë¬´ë£Œ ì²´í—˜í•˜ê¸°.',
      },
    })

    console.log(`âœ… ê²Œì‹œê¸€ ìƒì„± ì™„ë£Œ!`)
    console.log(`ğŸ“ ê²Œì‹œê¸€ ID: ${post.id}`)
    console.log(`ğŸ”— URL: /main/posts/${post.id}`)

    // íƒœê·¸ ìƒì„± ë° ì—°ê²°
    const tags = [
      { name: 'AI', slug: 'ai', color: '#8b5cf6' },
      { name: 'ì´ë¯¸ì§€í¸ì§‘', slug: 'image-editing', color: '#f59e0b' },
      { name: 'ì´ˆë³´ìê°€ì´ë“œ', slug: 'beginner-guide', color: '#10a37f' },
      { name: 'ë¬´ë£Œë„êµ¬', slug: 'free-tool', color: '#06b6d4' },
    ]

    console.log('ğŸ·ï¸ íƒœê·¸ ì²˜ë¦¬ ì¤‘...')

    for (const tagData of tags) {
      // íƒœê·¸ê°€ ì´ë¯¸ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸ (name ë˜ëŠ” slugë¡œ)
      let tag = await prisma.mainTag.findFirst({
        where: {
          OR: [
            { name: tagData.name },
            {
              slug: tagData.slug.toLowerCase().replace(/[^a-z0-9ê°€-í£]/g, '-'),
            },
          ],
        },
      })

      // íƒœê·¸ê°€ ì—†ìœ¼ë©´ ìƒì„±
      if (!tag) {
        tag = await prisma.mainTag.create({
          data: {
            name: tagData.name,
            slug: tagData.slug.toLowerCase().replace(/[^a-z0-9ê°€-í£]/g, '-'),
            color: tagData.color,
            postCount: 1,
          },
        })
      } else {
        // ê¸°ì¡´ íƒœê·¸ì˜ postCount ì¦ê°€
        await prisma.mainTag.update({
          where: { id: tag.id },
          data: { postCount: { increment: 1 } },
        })
      }

      // ê²Œì‹œê¸€-íƒœê·¸ ì—°ê²°
      await prisma.mainPostTag.create({
        data: {
          postId: post.id,
          tagId: tag.id,
        },
      })
    }

    console.log(`ğŸ·ï¸ íƒœê·¸ ì²˜ë¦¬ ì™„ë£Œ: ${tags.map((t) => t.name).join(', ')}`)

    // ì‚¬ì´íŠ¸ í†µê³„ ì—…ë°ì´íŠ¸
    await prisma.siteStats.upsert({
      where: { id: 'main' },
      update: {
        totalPosts: { increment: 1 },
      },
      create: {
        id: 'main',
        totalUsers: 0,
        totalPosts: 1,
        totalComments: 0,
        totalCommunities: 0,
        dailyActiveUsers: 0,
      },
    })

    console.log('ğŸ“ˆ ì‚¬ì´íŠ¸ í†µê³„ ì—…ë°ì´íŠ¸ ì™„ë£Œ')
  } catch (error) {
    console.error('âŒ ê²Œì‹œê¸€ ìƒì„± ì¤‘ ì˜¤ë¥˜ ë°œìƒ:', error)
    throw error
  }
}

// ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
if (require.main === module) {
  createPost()
    .then(() => {
      console.log('ğŸ‰ Qwen-Image-Edit ì¼ë°˜ì¸ìš© ê²Œì‹œê¸€ ìƒì„± ì™„ë£Œ!')
      process.exit(0)
    })
    .catch((error) => {
      console.error('ğŸ’¥ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ì‹¤íŒ¨:', error)
      process.exit(1)
    })
}

export { createPost }
