import { prisma } from '@/lib/core/prisma'

// ê´€ë¦¬ì ì •ë³´ ë° ìƒìˆ˜
const ADMIN_USER_ID = 'cmdri2tj90000u8vgtyir9upy'
const ADMIN_ROLE = 'ADMIN'

// ë°”ì´ë¸Œì½”ë”© ì¹´í…Œê³ ë¦¬ ID
const VIBECODING_CATEGORY_ID = 'cme5a5vyt0003u8ww9aoazx9f'

// ëœë¤ ì¡°íšŒìˆ˜ ìƒì„±
const getRandomViewCount = (min: number, max: number) =>
  Math.floor(Math.random() * (max - min + 1)) + min

async function createPost() {
  const content = `# ğŸ¯ Archon: AI ì½”ë”© ì–´ì‹œìŠ¤í„´íŠ¸ë¥¼ ìœ„í•œ ê¶ê·¹ì˜ ì§€íœ˜ë³¸ë¶€ê°€ ë“±ì¥í–ˆë‹¤!

## ğŸ¯ í•œ ì¤„ ìš”ì•½
**Archonì€ AI ì½”ë”© ì–´ì‹œìŠ¤í„´íŠ¸ë“¤ì´ í”„ë¡œì íŠ¸ ì§€ì‹ê³¼ ì»¨í…ìŠ¤íŠ¸ë¥¼ ê³µìœ í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” MCP ì„œë²„ë¡œ, Claude Code, Cursor, Windsurf ë“±ì„ í•˜ë‚˜ë¡œ ì—°ê²°í•˜ëŠ” í†µí•© í”Œë«í¼ì…ë‹ˆë‹¤!**

![Archon ë©”ì¸ ëŒ€ì‹œë³´ë“œ](https://github.com/coleam00/Archon/raw/main/archon-ui-main/public/archon-main-graphic.png)

## ğŸ¤” ì´ëŸ° ê³ ë¯¼ í•´ë³´ì…¨ë‚˜ìš”?

AI ì½”ë”© ë„êµ¬ë“¤ì„ ì‚¬ìš©í•˜ë‹¤ ë³´ë©´ ì´ëŸ° ë‹µë‹µí•¨ì„ ëŠë¼ì‹œì£ ?

- **"Claude Codeì—ì„œ ì‘ì—…í•œ ë‚´ìš©ì„ Cursorê°€ ëª¨ë¥´ë„¤..."** ğŸ˜¤
- **"ë§¤ë²ˆ ê°™ì€ í”„ë¡œì íŠ¸ ì»¨í…ìŠ¤íŠ¸ë¥¼ ë‹¤ì‹œ ì„¤ëª…í•´ì•¼ í•´..."** ğŸ”„
- **"ì—¬ëŸ¬ AI ë„êµ¬ë¥¼ ì“°ëŠ”ë° ì§€ì‹ì´ íŒŒí¸í™”ë˜ì–´ ìˆì–´..."** ğŸ“š
- **"íŒ€ì›ë“¤ê³¼ AI ì»¨í…ìŠ¤íŠ¸ë¥¼ ê³µìœ í•  ë°©ë²•ì´ ì—†ë„¤..."** ğŸ‘¥

**Archonì´ ì´ ëª¨ë“  ë¬¸ì œë¥¼ í•´ê²°í•©ë‹ˆë‹¤!** ğŸš€

## ğŸ’¡ Archonì´ ë­”ê°€ìš”?

### ğŸ”¥ AI ì½”ë”© ë„êµ¬ë“¤ì˜ "í†µí•© ì§€íœ˜ë³¸ë¶€"

Archonì€ ì—¬ëŸ¬ë¶„ì—ê²ŒëŠ” **ì„¸ë ¨ëœ ì›¹ ì¸í„°í˜ì´ìŠ¤**ë¡œ, AI ì–´ì‹œìŠ¤í„´íŠ¸ë“¤ì—ê²ŒëŠ” **MCP(Model Context Protocol) ì„œë²„**ë¡œ ì‘ë™í•©ë‹ˆë‹¤.

**í•µì‹¬ ê°œë…ì„ ì‰½ê²Œ ì„¤ëª…í•˜ë©´:**
- ğŸ“š **ì§€ì‹ ì €ì¥ì†Œ**: í”„ë¡œì íŠ¸ ë¬¸ì„œ, PDF, ì›¹ì‚¬ì´íŠ¸ë¥¼ í•œ ê³³ì— ì €ì¥
- ğŸ¤– **AI í†µí•© í—ˆë¸Œ**: ëª¨ë“  AI ë„êµ¬ê°€ ê°™ì€ ì§€ì‹ì„ ê³µìœ 
- ğŸ“‹ **ì‘ì—… ê´€ë¦¬**: AIì™€ í•¨ê»˜ íƒœìŠ¤í¬ë¥¼ ê´€ë¦¬í•˜ê³  ì¶”ì 
- ğŸ”„ **ì‹¤ì‹œê°„ ë™ê¸°í™”**: í•œ ê³³ì—ì„œ ì—…ë°ì´íŠ¸í•˜ë©´ ëª¨ë“  AIê°€ ì¦‰ì‹œ ì¸ì§€

### âš¡ ê¸°ì¡´ ë°©ì‹ vs Archon

| êµ¬ë¶„ | ê¸°ì¡´ ë°©ì‹ ğŸ˜” | Archon ë°©ì‹ ğŸ‰ |
|------|------------|--------------|
| **ì»¨í…ìŠ¤íŠ¸ ìœ ì§€** | ì„¸ì…˜ë§ˆë‹¤ ë¦¬ì…‹ | ì˜êµ¬ ë³´ì¡´ |
| **ë„êµ¬ ê°„ ì—°ë™** | ë¶ˆê°€ëŠ¥ | ì™„ë²½ ë™ê¸°í™” |
| **ì§€ì‹ ê´€ë¦¬** | ë¶„ì‚°/ì¤‘ë³µ | ì¤‘ì•™ ì§‘ì¤‘ì‹ |
| **íŒ€ í˜‘ì—…** | ì œí•œì  | ì‹¤ì‹œê°„ ê³µìœ  |
| **ì„¤ì • ë³µì¡ë„** | ë„êµ¬ë³„ ì„¤ì • | í•œ ë²ˆë§Œ ì„¤ì • |

## ğŸ¯ í•µì‹¬ ê¸°ëŠ¥ ì‚´í´ë³´ê¸°

### ğŸ§  ì§€ì‹ ê´€ë¦¬ ì‹œìŠ¤í…œ

**1. ìŠ¤ë§ˆíŠ¸ ì›¹ í¬ë¡¤ë§**
- ì „ì²´ ë¬¸ì„œ ì‚¬ì´íŠ¸ ìë™ í¬ë¡¤ë§
- ì‚¬ì´íŠ¸ë§µ ì¸ì‹ ë° ì²˜ë¦¬
- ì½”ë“œ ì˜ˆì œ ìë™ ì¶”ì¶œ ë° ì¸ë±ì‹±

**2. ë¬¸ì„œ ì²˜ë¦¬**
- PDF, Word, Markdown íŒŒì¼ ì—…ë¡œë“œ
- ì§€ëŠ¥í˜• ì²­í‚¹ìœ¼ë¡œ ìµœì í™”ëœ ë¶„í• 
- ë²¡í„° ê²€ìƒ‰ìœ¼ë¡œ ì •í™•í•œ ì •ë³´ ê²€ìƒ‰

**3. ì†ŒìŠ¤ ê´€ë¦¬**
- ì†ŒìŠ¤ë³„, íƒ€ì…ë³„, íƒœê·¸ë³„ êµ¬ì„±
- ì†ì‰¬ìš´ í•„í„°ë§ê³¼ ê²€ìƒ‰

### ğŸ¤– AI í†µí•© ê¸°ëŠ¥

**MCP í”„ë¡œí† ì½œ ì§€ì›**
- Claude Code, Cursor, Windsurf ë“± ëª¨ë“  MCP í˜¸í™˜ í´ë¼ì´ì–¸íŠ¸ ì—°ê²°
- 10ê°œì˜ ê°•ë ¥í•œ MCP ë„êµ¬ ì œê³µ
- ì‹¤ì‹œê°„ ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ

**ë©€í‹° LLM ì§€ì›**
- OpenAI GPT ì‹œë¦¬ì¦ˆ
- Ollama (ë¡œì»¬ ëª¨ë¸)
- Google Gemini
- ë” ë§ì€ ëª¨ë¸ ì¶”ê°€ ì˜ˆì •!

### ğŸ“‹ í”„ë¡œì íŠ¸ & ì‘ì—… ê´€ë¦¬

**ê³„ì¸µì  êµ¬ì¡°**
\`\`\`
í”„ë¡œì íŠ¸
â”œâ”€â”€ ê¸°ëŠ¥ 1
â”‚   â”œâ”€â”€ ì‘ì—… 1.1
â”‚   â””â”€â”€ ì‘ì—… 1.2
â””â”€â”€ ê¸°ëŠ¥ 2
    â”œâ”€â”€ ì‘ì—… 2.1
    â””â”€â”€ ì‘ì—… 2.2
\`\`\`

**AI ì§€ì› ìƒì„±**
- í”„ë¡œì íŠ¸ ìš”êµ¬ì‚¬í•­ ìë™ ìƒì„±
- íƒœìŠ¤í¬ ë¶„í•´ ë° ìš°ì„ ìˆœìœ„ ì„¤ì •
- ì§„í–‰ ìƒí™© ì‹¤ì‹œê°„ ì¶”ì 

## ğŸš€ 5ë¶„ ë§Œì— ì‹œì‘í•˜ê¸°

### ğŸ“Œ í•„ìˆ˜ ì¤€ë¹„ë¬¼
âœ… Docker Desktop  
âœ… Supabase ê³„ì • (ë¬´ë£Œ ê°€ëŠ¥)  
âœ… OpenAI API í‚¤ (ë˜ëŠ” Gemini/Ollama)  

### Step 1: í´ë¡  & ì„¤ì •
\`\`\`bash
# ì €ì¥ì†Œ í´ë¡ 
git clone https://github.com/coleam00/archon.git
cd archon

# í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp .env.example .env
# .env íŒŒì¼ í¸ì§‘í•˜ì—¬ Supabase ì •ë³´ ì…ë ¥
\`\`\`

### Step 2: ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì„±
Supabase SQL ì—ë””í„°ì—ì„œ \`migration/complete_setup.sql\` ì‹¤í–‰

### Step 3: ì„œë¹„ìŠ¤ ì‹œì‘
\`\`\`bash
docker-compose up --build -d
\`\`\`

### Step 4: API í‚¤ ì„¤ì •
- http://localhost:3737 ì ‘ì†
- Settings â†’ LLM ì œê³µì ì„ íƒ â†’ API í‚¤ ì…ë ¥
- ì™„ë£Œ! ğŸ‰

## ğŸ“Š ì•„í‚¤í…ì²˜ ì´í•´í•˜ê¸°

### ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ êµ¬ì¡°
\`\`\`
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   UI (React)â”‚â—„â”€â”€â–ºâ”‚ Server API  â”‚â—„â”€â”€â–ºâ”‚ MCP Server  â”‚â—„â”€â”€â–ºâ”‚   Agents    â”‚
â”‚  Port 3737  â”‚    â”‚  Port 8181  â”‚    â”‚  Port 8051  â”‚    â”‚  Port 8052  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                   â”‚                   â”‚                   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚                   â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
                    â”‚   Supabase    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚  PostgreSQL   â”‚
                    â”‚   PGVector    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
\`\`\`

### ê° ì„œë¹„ìŠ¤ ì—­í• 

| ì„œë¹„ìŠ¤ | í¬íŠ¸ | ì—­í•  |
|--------|------|------|
| **UI** | 3737 | ì›¹ ëŒ€ì‹œë³´ë“œ |
| **Server** | 8181 | í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ |
| **MCP** | 8051 | AI í´ë¼ì´ì–¸íŠ¸ ì¸í„°í˜ì´ìŠ¤ |
| **Agents** | 8052 | PydanticAI ì—ì´ì „íŠ¸ |

## âš¡ ì‹¤ì œ í™œìš© ì‚¬ë¡€

### ì‚¬ë¡€ 1: ë¬¸ì„œ ê¸°ë°˜ ê°œë°œ

**"Pydantic ë¬¸ì„œë¥¼ í¬ë¡¤ë§í•˜ê³  ë°”ë¡œ ì½”ë“œ ì‘ì„±!"**
1. Archonì—ì„œ https://docs.pydantic.dev í¬ë¡¤ë§
2. Claude Codeì—ì„œ "Pydanticìœ¼ë¡œ ê²€ì¦ ëª¨ë¸ ë§Œë“¤ì–´ì¤˜"
3. Archonì´ ì •í™•í•œ ë¬¸ì„œ ì»¨í…ìŠ¤íŠ¸ ì œê³µ
4. ì™„ë²½í•œ ì½”ë“œ ìƒì„±! âœ¨

### ì‚¬ë¡€ 2: íŒ€ í˜‘ì—…

**"íŒ€ì› 5ëª…ì´ ê°™ì€ AI ì»¨í…ìŠ¤íŠ¸ ê³µìœ !"**
- A ê°œë°œìê°€ ì•„í‚¤í…ì²˜ ë¬¸ì„œ ì—…ë¡œë“œ
- B ê°œë°œìì˜ Cursorê°€ ì¦‰ì‹œ ì¸ì§€
- C ê°œë°œìê°€ íƒœìŠ¤í¬ ìƒì„±
- ëª¨ë“  AI ë„êµ¬ê°€ ë™ì¼í•œ ì •ë³´ë¡œ ì‘ì—…

## ğŸ® ê³ ê¸‰ ê¸°ëŠ¥ë“¤

### RAG ì „ëµ ì˜µì…˜
- **Hybrid Search**: í‚¤ì›Œë“œ + ì‹œë§¨í‹± ê²€ìƒ‰ ì¡°í•©
- **Contextual Embeddings**: ë¬¸ë§¥ ê¸°ë°˜ ì„ë² ë”©
- **Result Reranking**: ê²°ê³¼ ì¬ìˆœìœ„ ì¡°ì • (ì„ íƒì )

### ì»¤ìŠ¤í…€ í¬íŠ¸ ì„¤ì •
\`\`\`bash
# .env íŒŒì¼ì—ì„œ ì»¤ìŠ¤í„°ë§ˆì´ì§•
ARCHON_UI_PORT=3737
ARCHON_SERVER_PORT=8181
ARCHON_MCP_PORT=8051
ARCHON_AGENTS_PORT=8052
HOST=localhost  # ë˜ëŠ” ì›ê²© ì ‘ì†ìš© IP
\`\`\`

### MCP ë„êµ¬ ëª©ë¡
1. \`search_knowledge\` - ì§€ì‹ ë² ì´ìŠ¤ ê²€ìƒ‰
2. \`add_knowledge\` - ìƒˆ ì§€ì‹ ì¶”ê°€
3. \`create_task\` - íƒœìŠ¤í¬ ìƒì„±
4. \`update_task\` - íƒœìŠ¤í¬ ì—…ë°ì´íŠ¸
5. \`get_project_info\` - í”„ë¡œì íŠ¸ ì •ë³´ ì¡°íšŒ
6. ê·¸ ì™¸ 5ê°œ ì¶”ê°€ ë„êµ¬...

## âš ï¸ ì•Œì•„ë‘ë©´ ì¢‹ì€ ì ë“¤

### âœ… ì¥ì 
- **ë¬´ë£Œ ì˜¤í”ˆì†ŒìŠ¤**: MIT ë¼ì´ì„ ìŠ¤
- **ë¡œì»¬ ì‹¤í–‰ ê°€ëŠ¥**: ë°ì´í„° í”„ë¼ì´ë²„ì‹œ ë³´ì¥
- **í™•ì¥ ê°€ëŠ¥**: ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ë¡œ ë…ë¦½ í™•ì¥
- **í™œë°œí•œ ì»¤ë®¤ë‹ˆí‹°**: GitHub Discussions í™œì„±í™”

### âš ï¸ í˜„ì¬ ì œí•œì‚¬í•­ (ë² íƒ€)
- ì¼ë¶€ ê¸°ëŠ¥ ë¶ˆì•ˆì • ê°€ëŠ¥
- Agents ì„œë¹„ìŠ¤ ê°œë°œ ì§„í–‰ ì¤‘
- ëŒ€ìš©ëŸ‰ ë¬¸ì„œ ì²˜ë¦¬ ì‹œ ì†ë„ ì´ìŠˆ

## ğŸ’­ ë§ˆë¬´ë¦¬ ìƒê°

**Archonì€ AI ì½”ë”©ì˜ ë¯¸ë˜ë¥¼ ë³´ì—¬ì£¼ëŠ” í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.**

ë” ì´ìƒ ê°ê°ì˜ AI ë„êµ¬ê°€ ê³ ë¦½ëœ ì„¬ì²˜ëŸ¼ ì‘ë™í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. Archonì„ í†µí•´ ëª¨ë“  AI ì–´ì‹œìŠ¤í„´íŠ¸ê°€ í•˜ë‚˜ì˜ íŒ€ì²˜ëŸ¼ í˜‘ë ¥í•˜ë©°, ì—¬ëŸ¬ë¶„ì˜ í”„ë¡œì íŠ¸ë¥¼ ê¹Šì´ ì´í•´í•˜ê³  ì§€ì›í•©ë‹ˆë‹¤.

ë§ˆì¹˜ ì˜¤ì¼€ìŠ¤íŠ¸ë¼ì˜ ì§€íœ˜ìì²˜ëŸ¼, Archonì€ ì—¬ëŸ¬ AI ë„êµ¬ë“¤ì´ ì¡°í™”ë¡­ê²Œ ì—°ì£¼í•˜ë„ë¡ ì´ë•ë‹ˆë‹¤. ğŸ¼

**ì§€ê¸ˆ ë°”ë¡œ Archonì„ ì‹œì‘í•˜ê³ , AI ì½”ë”©ì˜ ìƒˆë¡œìš´ ì°¨ì›ì„ ê²½í—˜í•´ë³´ì„¸ìš”!**

---

*ì´ ê¸€ì´ ë„ì›€ì´ ë˜ì…¨ë‹¤ë©´ ì¢‹ì•„ìš”ì™€ ê³µìœ  ë¶€íƒë“œë¦½ë‹ˆë‹¤!* â¤ï¸

### ğŸ”— ì°¸ê³  ìë£Œ
- [Archon GitHub Repository](https://github.com/coleam00/Archon)
- [Archon ì†Œê°œ ì˜ìƒ](https://youtu.be/8pRc_s2VQIo)
- [Dynamous AI Mastery ì»¤ë®¤ë‹ˆí‹°](https://dynamous.ai)
- [MCP í”„ë¡œí† ì½œ ë¬¸ì„œ](https://modelcontextprotocol.io)`

  try {
    console.log('ğŸ¯ Archon ê²Œì‹œê¸€ ìƒì„± ì‹œì‘...')

    // ê²Œì‹œê¸€ ìƒì„±
    const post = await prisma.mainPost.create({
      data: {
        title:
          'ğŸ¯ Archon: AI ì½”ë”© ì–´ì‹œìŠ¤í„´íŠ¸ë¥¼ ìœ„í•œ ê¶ê·¹ì˜ ì§€íœ˜ë³¸ë¶€ê°€ ë“±ì¥í–ˆë‹¤!',
        slug: 'archon-ai-coding-command-center-2025',
        content,
        excerpt:
          'Archonì€ Claude Code, Cursor, Windsurf ë“± ëª¨ë“  AI ì½”ë”© ë„êµ¬ê°€ í”„ë¡œì íŠ¸ ì§€ì‹ê³¼ ì»¨í…ìŠ¤íŠ¸ë¥¼ ê³µìœ í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” í†µí•© MCP ì„œë²„ì…ë‹ˆë‹¤. ì§€ì‹ ê´€ë¦¬, ì‘ì—… ì¶”ì , ì‹¤ì‹œê°„ í˜‘ì—…ì„ í•œ ê³³ì—ì„œ!',
        status: 'PUBLISHED',
        authorId: ADMIN_USER_ID,
        authorRole: ADMIN_ROLE,
        categoryId: VIBECODING_CATEGORY_ID,
        viewCount: getRandomViewCount(300, 500),
        metaTitle: 'Archon - AI ì½”ë”© ì–´ì‹œìŠ¤í„´íŠ¸ í†µí•© í”Œë«í¼ | MCP ì„œë²„',
        metaDescription:
          'Archonìœ¼ë¡œ Claude Code, Cursor, Windsurf ë“± ëª¨ë“  AI ì½”ë”© ë„êµ¬ë¥¼ í•˜ë‚˜ë¡œ ì—°ê²°í•˜ì„¸ìš”. ì§€ì‹ ê´€ë¦¬, ì‘ì—… ì¶”ì , ì‹¤ì‹œê°„ í˜‘ì—…ì´ ê°€ëŠ¥í•œ ì˜¤í”ˆì†ŒìŠ¤ MCP ì„œë²„',
      },
    })

    console.log(`âœ… ê²Œì‹œê¸€ ìƒì„± ì™„ë£Œ!`)
    console.log(`ğŸ“ ê²Œì‹œê¸€ ID: ${post.id}`)
    console.log(`ğŸ”— URL: /main/posts/${post.id}`)

    // íƒœê·¸ ìƒì„± ë° ì—°ê²°
    const tagNames = [
      'Archon',
      'MCP',
      'AI ì½”ë”©',
      'Claude Code',
      'Cursor',
      'Windsurf',
      'ì˜¤í”ˆì†ŒìŠ¤',
      'ê°œë°œ ë„êµ¬',
    ]
    console.log('ğŸ·ï¸ íƒœê·¸ ì²˜ë¦¬ ì¤‘...')

    for (const tagName of tagNames) {
      // íƒœê·¸ê°€ ì´ë¯¸ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸
      let tag = await prisma.mainTag.findUnique({
        where: { name: tagName },
      })

      // íƒœê·¸ê°€ ì—†ìœ¼ë©´ ìƒì„±
      if (!tag) {
        tag = await prisma.mainTag.create({
          data: {
            name: tagName,
            slug: tagName.toLowerCase().replace(/[^a-z0-9ê°€-í£]/g, '-'),
            postCount: 1,
          },
        })
      } else {
        // ê¸°ì¡´ íƒœê·¸ì˜ postCount ì¦ê°€
        await prisma.mainTag.update({
          where: { id: tag.id },
          data: { postCount: { increment: 1 } },
        })
      }

      // ê²Œì‹œê¸€-íƒœê·¸ ì—°ê²°
      await prisma.mainPostTag.create({
        data: {
          postId: post.id,
          tagId: tag.id,
        },
      })
    }

    console.log(`ğŸ·ï¸ íƒœê·¸ ì²˜ë¦¬ ì™„ë£Œ: ${tagNames.join(', ')}`)

    // ì‚¬ì´íŠ¸ í†µê³„ ì—…ë°ì´íŠ¸
    await prisma.siteStats.upsert({
      where: { id: 'main' },
      update: {
        totalPosts: { increment: 1 },
      },
      create: {
        id: 'main',
        totalUsers: 0,
        totalPosts: 1,
        totalComments: 0,
        totalCommunities: 0,
        dailyActiveUsers: 0,
      },
    })

    console.log('ğŸ“ˆ ì‚¬ì´íŠ¸ í†µê³„ ì—…ë°ì´íŠ¸ ì™„ë£Œ')
  } catch (error) {
    console.error('âŒ ê²Œì‹œê¸€ ìƒì„± ì¤‘ ì˜¤ë¥˜ ë°œìƒ:', error)
    throw error
  }
}

// ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
if (require.main === module) {
  createPost()
    .then(() => {
      console.log('ğŸ‰ Archon ê²Œì‹œê¸€ ìƒì„± ì™„ë£Œ!')
      process.exit(0)
    })
    .catch((error) => {
      console.error('ğŸ’¥ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ì‹¤íŒ¨:', error)
      process.exit(1)
    })
}

export { createPost }
